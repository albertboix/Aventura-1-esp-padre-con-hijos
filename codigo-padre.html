<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Padre con control de menús</title>
  <style>
    body { margin: 0; padding: 0; background: #eee; }
    /* Opcional: para ver los iframes */
    iframe { border: 1px solid #007acc; background: transparent; }
  </style>
</head>
<body>
  <!-- Ajusta el tamaño y posición de los iframes según tu diseño -->
  <iframe id="iframe-hamburguesa" src="botones-y-subfunciones-hamburguesa.html"
    style="position:fixed; left:20px; top:20px; width:55px; height:260px; z-index:1000;"></iframe>
  <iframe id="iframe-masopciones" src="botones-y-subfunciones-masopciones.html"
    style="position:fixed; right:20px; top:20px; width:55px; height:260px; z-index:1000;"></iframe>
  <iframe id="iframe-mapa" src="botones-y-subfunciones-mapa.html"
    style="position:fixed; right:20px; bottom:20px; width:55px; height:200px; z-index:1000;"></iframe>

  <script>
    // IDs y nombres de los menús
    const iframes = [
      { id: 'iframe-hamburguesa', menu: 'hamburguesa' },
      { id: 'iframe-masopciones', menu: 'mas-opciones' },
      { id: 'iframe-mapa', menu: 'mapa' }
    ];

    // Escucha mensajes de los iframes hijos
    window.addEventListener('message', (e) => {
      if (e.data && e.data.type === 'closeOtherMenus') {
        // Cierra todos los menús excepto el que se acaba de abrir
        iframes.forEach(({ id, menu }) => {
          if (menu !== e.data.except) {
            const iframe = document.getElementById(id);
            if (iframe && iframe.contentWindow) {
              iframe.contentWindow.postMessage({ type: 'closeMenu', menu: e.data.except }, '*');
            }
          }
        });
      }
      // Puedes añadir aquí otros mensajes si lo necesitas
    });
  </script>
</body>
</html>
