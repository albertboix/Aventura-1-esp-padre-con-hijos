<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Aventura Valencia</title>
  <style>
    /* Reset y estilos básicos */
    body {
      margin: 0; font-family: Arial, sans-serif;
      background: #fafafa;
    }
    button {
      cursor: pointer;
      border: none;
      background: transparent;
      font-size: 24px;
      padding: 10px;
    }
    /* Contenedor botones flotantes */
    .floating-buttons {
      position: fixed;
      top: 10px;
      right: 10px;
      display: flex;
      gap: 10px;
      z-index: 1000;
    }

    /* Menús ocultos */
    .menu {
      position: fixed;
      top: 50px;
      right: 10px;
      background: white;
      border: 1px solid #ccc;
      box-shadow: 0 2px 6px rgba(0,0,0,0.2);
      display: none;
      flex-direction: column;
      min-width: 180px;
      z-index: 1001;
    }
    .menu.active {
      display: flex;
    }
    .menu a {
      padding: 10px;
      text-decoration: none;
      color: #333;
      border-bottom: 1px solid #eee;
    }
    .menu a:hover {
      background: #007acc;
      color: white;
    }

    /* Botón mapa abajo a la derecha */
    #map-button-container {
      position: fixed;
      bottom: 20px;
      right: 20px;
      z-index: 1000;
    }
    #map-button {
      font-size: 28px;
      background: #007acc;
      color: white;
      border-radius: 50%;
      width: 56px;
      height: 56px;
      border: none;
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 2px 8px rgba(0,0,0,0.3);
    }
    /* Menú mapa */
    #map-menu {
      position: fixed;
      bottom: 80px;
      right: 20px;
      background: white;
      border: 1px solid #ccc;
      box-shadow: 0 2px 6px rgba(0,0,0,0.2);
      display: none;
      flex-direction: column;
      min-width: 200px;
      z-index: 1001;
    }
    #map-menu.active {
      display: flex;
    }
    #map-menu button {
      border: none;
      padding: 10px;
      background: none;
      text-align: left;
      width: 100%;
      font-size: 16px;
      cursor: pointer;
    }
    #map-menu button:hover {
      background: #007acc;
      color: white;
    }
  </style>
</head>
<body>

  <!-- Botones flotantes arriba derecha -->
  <div class="floating-buttons">
    <button id="hamburger-btn" aria-label="Menú hamburguesa" title="Menú">
      &#9776;
    </button>
    <button id="dots-btn" aria-label="Menú puntos" title="Más opciones">
      &#8942;
    </button>
  </div>

  <!-- Menú hamburguesa -->
  <nav id="hamburger-menu" class="menu" aria-label="Menú principal">
    <a href="Agradecimientos.html" target="_blank" rel="noopener">Agradecimientos</a>
    <a href="Gastronomia.html" target="_blank" rel="noopener">Gastronomía</a>
    <a href="enlaces_valencia_historica.html" target="_blank" rel="noopener">Valencia Histórica</a>
    <a href="consejos_seguridad_vial.html" target="_blank" rel="noopener">Consejos Seguridad Vial</a>
    <a href="retos_con_puzzles_Av1_es.html" target="_blank" rel="noopener">Retos con Puzzles</a>
  </nav>

  <!-- Menú puntos -->
  <nav id="dots-menu" class="menu" aria-label="Menú opciones adicionales">
    <a href="terminos_y_condiciones.html" target="_blank" rel="noopener">Términos y Condiciones</a>
    <a href="Av1_audio_esp.html" target="_blank" rel="noopener">Audio</a>
    <a href="Av1-esp-retos-preguntas.html" target="_blank" rel="noopener">Retos</a>
  </nav>

  <!-- Botón mapa abajo derecha -->
  <div id="map-button-container">
    <button id="map-button" aria-label="Abrir menú mapa" title="Mapa">&#x1f5fa;</button>

    <div id="map-menu" role="menu" aria-label="Opciones de mapa">
      <button id="btn-coordenadas" role="menuitem">Ver Coordenadas</button>
      <button id="btn-mapa-completo" role="menuitem">Mapa Completo</button>
      <button id="btn-foto-mapa" role="menuitem">Foto del Mapa</button>
    </div>
  </div>

  <!-- Aquí podrías incluir un iframe o sección para mostrar contenido embebido -->
  <div id="content-frame" style="margin: 60px 20px 20px 20px;">
    <!-- Opcional: iframe dinámico para cargar hijos sin cambiar página -->
  </div>

  <script>
    // Referencias a botones y menús
    const hamburgerBtn = document.getElementById('hamburger-btn');
    const dotsBtn = document.getElementById('dots-btn');
    const hamburgerMenu = document.getElementById('hamburger-menu');
    const dotsMenu = document.getElementById('dots-menu');

    const mapButton = document.getElementById('map-button');
    const mapMenu = document.getElementById('map-menu');
    const btnCoordenadas = document.getElementById('btn-coordenadas');
    const btnMapaCompleto = document.getElementById('btn-mapa-completo');
    const btnFotoMapa = document.getElementById('btn-foto-mapa');

    // Función para cerrar todos los menús
    function closeAllMenus() {
      hamburgerMenu.classList.remove('active');
      dotsMenu.classList.remove('active');
      mapMenu.classList.remove('active');
    }

    // Toggle menús hamburguesa y puntos
    hamburgerBtn.addEventListener('click', () => {
      const isActive = hamburgerMenu.classList.contains('active');
      closeAllMenus();
      if (!isActive) hamburgerMenu.classList.add('active');
    });
    dotsBtn.addEventListener('click', () => {
      const isActive = dotsMenu.classList.contains('active');
      closeAllMenus();
      if (!isActive) dotsMenu.classList.add('active');
    });

    // Toggle menú mapa
    mapButton.addEventListener('click', () => {
      mapMenu.classList.toggle('active');
      // Cerramos otros menús para evitar solapamientos
      hamburgerMenu.classList.remove('active');
      dotsMenu.classList.remove('active');
    });

    // Acciones botones mapa
    btnCoordenadas.addEventListener('click', () => {
      // Abrir página de coordenadas en nueva pestaña
      window.open('Av1-coordenadas.html', '_blank', 'noopener');
      mapMenu.classList.remove('active');
    });
    btnMapaCompleto.addEventListener('click', () => {
      // Mostrar mapa completo (podemos abrir la imagen en nueva pestaña)
      window.open('mapas/Av1_mapa.jpg', '_blank', 'noopener');
      mapMenu.classList.remove('active');
    });
    btnFotoMapa.addEventListener('click', () => {
      // Si quieres mostrar foto de mapa, aquí también la abrimos nueva pestaña
      window.open('mapas/Av1_mapa.jpg', '_blank', 'noopener');
      mapMenu.classList.remove('active');
    });

    // Cerrar menús si se hace clic fuera
    document.addEventListener('click', (e) => {
      const target = e.target;
      if (!hamburgerMenu.contains(target) && target !== hamburgerBtn &&
          !dotsMenu.contains(target) && target !== dotsBtn &&
          !mapMenu.contains(target) && target !== mapButton) {
        closeAllMenus();
      }
    });

    // Permisos GPS - Ejemplo básico para pedir permiso y mostrar alerta
    function pedirPermisoGPS() {
      if (!navigator.geolocation) {
        alert('Geolocalización no está soportada por este navegador.');
        return;
      }
      navigator.geolocation.getCurrentPosition(
        (pos) => {
          alert(`Ubicación obtenida: Lat ${pos.coords.latitude.toFixed(5)}, Lon ${pos.coords.longitude.toFixed(5)}`);
        },
        (error) => {
          alert('Error al obtener ubicación: ' + error.message);
        }
      );
    }

    // Podrías llamar pedirPermisoGPS() al cargar la página o al interactuar con mapa
    // Por ejemplo, aquí al abrir menú mapa:
    // mapButton.addEventListener('click', () => { pedirPermisoGPS(); });

  </script>
</body>
</html>
